# 数据库设计详细说明
## 用户表

用户表与安全认证表进行分离，用户只保留用户的profile。用户的status需要与角色、权限联合设计。

> 特别说明：status字段包含了:（0：正常）,（1：禁言）,（2：账号禁止登陆）

- 0: 正常状态，普通用户角色，系统的平台角色，可以正常使用系统。
- 1: 禁言状态，添加禁言角色，用户处于只读状态，只可以修改自己的用户信息，无法对系统进行其他写操作。
- 2: 封禁状态，添加封禁用户角色，禁止用户进行登陆，用户无法登陆。

## 用户信息扩展表

用于扩展用户的信息内容，如生日，电话号等。例如：如果后续系统需要添加生日字段，则添加(1, 'birthday', '1997-11-15')即可。该记录表示记录用户ID为1的brithday为1997-11-15。

## 本地安全认证

用于本系统的安全认证登陆，通过与用户信息表进行分离，使得用户信息表可以进行扩展，而无需改动本地认证表，并且扩充系统的认证方式。

## 第三方安全认证

添加第三方的登录支持，比如微博，微信。以微博登录为例，由于微博使用OAuth2协议登录，所以，一个登录用户会包含他的微博身份的ID，一个Access Token用于代表该用户访问微博的API和一个过期时间。

## 用户关注表

该表记录了用户关注的用户列表，status代表用户是否取消关注，并保留关注历史。

## 专题表

用于对系统内的信息进行分类展示，如java、python等，用户可以自行创建专题，然后等待管理员批准才可以在系统内展示并向该专题添加内容。

> 特别说明：status字段代表该专区的状态: （0：正常），（1：等待管理员批准），（2：当前专区只读），（3：专区被封禁，无法展示）

- 0: 正常状态，普通用户角色可以自由的向该专区创建和编辑内容。
- 1: 等待状态，普通用户角色提交的申请需要管理员批准才可以使用。
- 2: 只读状态，管理员角色和专区创建者角色可以设置该专区为只读状态，只有拥有管理该专题的角色才可以进行写入。
- 3: 封禁状态，管理员角色可以对专区进行封禁。

## 内容表

用于系统内问题和文章保存的基本单元，支持markdown和普通文本编辑器。

## 内容扩展表

用于扩展内容的信息，如编写地区，心得等。例如：如果后续系统需要添加编写地区字段，则添加(1, 'location', '北京')即可。该记录表示内容块ID为1的location为北京。

## 通知消息表

传达系统内消息的单位，支持公告，提醒和私信。


